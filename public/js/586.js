"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[586],{585:(e,t,r)=>{function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}r.d(t,{V:()=>l});var l={showToast:function(e,t,r){var n,l=document.getElementById(t),o=a(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;l.classList.add(s)}}catch(e){o.e(e)}finally{o.f()}l.querySelector(".toast-body").innerHTML=e,bs.Toast.getInstance(l).show()}}},586:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var a=r(118),n={class:"d-block mt-5"},l={class:"col-md-4 mx-auto"},o={key:0,class:"alert alert-danger mt-3 mb-3"},s=(0,a._)("ul",{class:"nav nav-tabs mb-3",id:"myTab",role:"tablist"},[(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link active",id:"auth-tab","data-bs-toggle":"tab","data-bs-target":"#auth",type:"button",role:"tab","aria-controls":"auth","aria-selected":"true"},[(0,a._)("h3",null,"Авторизация")])]),(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link",id:"register-tab","data-bs-toggle":"tab","data-bs-target":"#register",type:"button",role:"tab","aria-controls":"register","aria-selected":"false"},[(0,a._)("h3",null,"Регистрация")])])],-1),i={class:"tab-content",id:"myTabContent"},m={class:"tab-pane fade show active",id:"auth",role:"tabpanel","aria-labelledby":"auth-tab"},u={class:"mb-4"},c=(0,a._)("label",{class:"form-label"},"Email",-1),d=(0,a._)("label",{class:"form-label"},"Пароль",-1),b={class:"form-check mb-3 mt-3"},f=(0,a._)("label",{for:"remember-me-register",class:"form-check-label"}," запомнить меня ",-1),p=["disabled"],h={class:"tab-pane fade",id:"register",role:"tabpanel","aria-labelledby":"register-tab"},g={class:"mb-4"},y=(0,a._)("label",{class:"form-label"},"ФИО",-1),_={class:"mb-4"},v=(0,a._)("label",{class:"form-label"},"Дата рождения",-1),w={class:"mb-4"},k=(0,a._)("label",{class:"form-label"},"Телефон",-1),V={class:"mb-4"},A=(0,a._)("label",{class:"form-label"},"Адрес проживания",-1),U={class:"mb-4"},q=(0,a._)("label",{class:"form-label"},"Email",-1),S=(0,a._)("label",{class:"form-label"},"Пароль",-1),x={class:"form-check mb-3 mt-3"},T=(0,a._)("label",{for:"remember-me-auth",class:"form-check-label"}," запомнить меня ",-1),P=["disabled"];var I=r(669),M=r.n(I),C=r(154),E=r(585);const j={name:"AuthRegPage",data:function(){return{form:{auth:{email:"",password:"",remember:!0},register:{name:"",birthdate:"",phone:"",address:"",email:"",password:"",remember:!0}},loading:!1,error:null}},methods:{submit:function(e){var t=this;this.loading=!0,M().post("/api/user/".concat(e),this.form[e]).then((function(){(0,C.M)().checkAuth().then((function(){t.$router.push({name:"PersonalProfilePage"})})).catch((function(){alert("line 207 :: AuthRegPage")}))})).catch((function(e){401===e.response.status?E.V.showToast(e.response.data.msg.error,"toastAlertDanger",["text-white","bg-danger"]):alert("line 216 :: AuthRegPage")})).finally((function(){t.loading=!1}))}}};const D=(0,r(744).Z)(j,[["render",function(e,t,r,I,M,C){return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",l,[M.error?((0,a.wg)(),(0,a.iD)("div",o,(0,a.zw)(M.error),1)):(0,a.kq)("",!0),s,(0,a._)("div",i,[(0,a._)("div",m,[(0,a._)("form",{class:"mt-8 space-y-6",onSubmit:t[3]||(t[3]=(0,a.iM)((function(e){return C.submit("auth")}),["prevent"]))},[(0,a._)("div",u,[c,(0,a.wy)((0,a._)("input",{name:"email",type:"email",autocomplete:"email",class:"form-control",required:"","onUpdate:modelValue":t[0]||(t[0]=function(e){return M.form.auth.email=e})},null,512),[[a.nr,M.form.auth.email]])]),(0,a._)("div",null,[d,(0,a.wy)((0,a._)("input",{name:"password",type:"password",autocomplete:"current-password",class:"form-control",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return M.form.auth.password=e})},null,512),[[a.nr,M.form.auth.password]])]),(0,a._)("div",b,[(0,a.wy)((0,a._)("input",{id:"remember-me-register",name:"remember-me",type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=function(e){return M.form.auth.remember=e})},null,512),[[a.e8,M.form.auth.remember]]),f]),(0,a._)("button",{type:"submit",class:"btn btn-primary w-full",disabled:M.loading}," Авторизоваться ",8,p)],32)]),(0,a._)("div",h,[(0,a._)("form",{class:"mt-8 space-y-6",onSubmit:t[11]||(t[11]=(0,a.iM)((function(e){return C.submit("register")}),["prevent"]))},[(0,a._)("div",g,[y,(0,a.wy)((0,a._)("input",{name:"name",type:"text",autocomplete:"name",class:"form-control",required:"","onUpdate:modelValue":t[4]||(t[4]=function(e){return M.form.register.name=e})},null,512),[[a.nr,M.form.register.name]])]),(0,a._)("div",_,[v,(0,a.wy)((0,a._)("input",{name:"birthdate",type:"date",autocomplete:"name",class:"form-control",required:"","onUpdate:modelValue":t[5]||(t[5]=function(e){return M.form.register.birthdate=e})},null,512),[[a.nr,M.form.register.birthdate]])]),(0,a._)("div",w,[k,(0,a.wy)((0,a._)("input",{name:"phone",type:"tel",autocomplete:"name",class:"form-control",required:"","onUpdate:modelValue":t[6]||(t[6]=function(e){return M.form.register.phone=e})},null,512),[[a.nr,M.form.register.phone]])]),(0,a._)("div",V,[A,(0,a.wy)((0,a._)("input",{name:"address",type:"text",autocomplete:"name",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=function(e){return M.form.register.address=e})},null,512),[[a.nr,M.form.register.address]])]),(0,a._)("div",U,[q,(0,a.wy)((0,a._)("input",{name:"email",type:"email",autocomplete:"email",class:"form-control",required:"","onUpdate:modelValue":t[8]||(t[8]=function(e){return M.form.register.email=e})},null,512),[[a.nr,M.form.register.email]])]),(0,a._)("div",null,[S,(0,a.wy)((0,a._)("input",{name:"password",type:"password",autocomplete:"current-password",class:"form-control",required:"","onUpdate:modelValue":t[9]||(t[9]=function(e){return M.form.register.password=e})},null,512),[[a.nr,M.form.register.password]])]),(0,a._)("div",x,[(0,a.wy)((0,a._)("input",{id:"remember-me-auth",name:"remember-me",type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[10]||(t[10]=function(e){return M.form.register.remember=e})},null,512),[[a.e8,M.form.register.remember]]),T]),(0,a._)("button",{type:"submit",class:"btn btn-primary w-full",disabled:M.loading}," Зарегистрироваться ",8,P)],32)])])])])}]])}}]);